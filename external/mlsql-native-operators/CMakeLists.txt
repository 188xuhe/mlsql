CMAKE_MINIMUM_REQUIRED(VERSION 3.11)
PROJECT(mlsql_runtime_native_lib)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} "${CMAKE_SOURCE_DIR}/cmake/Modules")

set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -fPIC")
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fPIC")

FIND_PACKAGE(JNI REQUIRED)
INCLUDE_DIRECTORIES(SYSTEM ${JNI_INCLUDE_DIRS})
INCLUDE_DIRECTORIES(SYSTEM src)

ADD_LIBRARY(mlsql_runtime_native_lib SHARED src/native_lib_for_java/tech_mlsql_nativelib_MLSQLNativeRuntime.cc)
